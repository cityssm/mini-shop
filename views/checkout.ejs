<%- include('../view-parts/_header'); -%>

<%
  const viewConfig = configFns.getProperty("views.checkout") || {};
%>

<nav class="breadcrumb has-succeeds-separator mt-4" aria-label="breadcrumb">
  <ul>
    <li><a href="/products"><%= configFns.getProperty("views.products.title") %></a></li>
    <li class="is-active">
      <a href="#" aria-current="page"><%= viewConfig.title || "Checkout" %></a>
    </li>
  </ul>
</nav>

<div class="level mt-4">
  <div class="level-left">
    <h1 class="title is-3">
      <%= viewConfig.title || "Checkout" %>
    </h1>
  </div>
  <div class="level-right has-text-right">
    <button class="button is-danger" id="button--clearCart" type="button">
      <span class="icon">
        <i class="fas fa-trash-alt" aria-hidden="true"></i>
      </span>
      <span>Clear Cart</span>
    </button>
  </div>
</div>

<% if (viewConfig.headerEjs) { %>
  <%- include('../view-parts/headers/' + viewConfig.headerEjs); -%>
<% } %>

<ul class="card is-hidden" id="card--cart"></ul>

<div class="card has-text-right">
  <div class="card-content" id="container--cartTotal"></div>
</div>

<form class="mt-4" id="form--checkout">
  <div class="field">
    <label class="label" for="checkout_fullName">Full Name:</label>
    <div class="control">
      <input class="input" id="checkout_fullName" name="fullName" type="text" maxlength="100" required />
    </div>
  </div>
  <div class="field">
    <label class="label" for="checkout_address">Address:</label>
    <div class="control">
      <input class="input" id="checkout_address" name="address" type="text" maxlength="100" required />
    </div>
  </div>
  <div class="field">
    <label class="label" for="checkout_city">City:</label>
    <div class="control">
      <input class="input" id="checkout_city" name="city" type="text" maxlength="50" required />
    </div>
  </div>
  <div class="field">
    <label class="label" for="checkout_province">Province:</label>
    <div class="control">
      <input class="input" id="checkout_province" name="province" type="text" maxlength="3" required />
    </div>
  </div>
  <div class="field">
    <label class="label" for="checkout_postalCode">Postal Code:</label>
    <div class="control">
      <input class="input" id="checkout_postalCode" name="postalCode" type="text" minlength="6" maxlength="7" required />
    </div>
  </div>
</form>

<%- include('../view-parts/_footerA'); -%>
<script src="/lib/formToObject/formToObject.min.js"></script>
<script src="/javascripts/cart.min.js"></script>
<script src="/lib/bulma-webapp-js/cityssm.min.js"></script>
<script src="/javascripts/checkout.min.js"></script>
<%- include('../view-parts/_footerB'); -%>
